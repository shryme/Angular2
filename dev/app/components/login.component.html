<loading-indicator *ngIf="http.loading || !isReady"></loading-indicator>


<div [hidden]="!loggedIn()">
	<h1>Bonjour!</h1>
	<button type="button" class="btn btn-default" (click)="signOut()">Sign out?</button>
</div>

<div [hidden]="loggedIn()">

<div [hidden]="submitted">
	<form (ngSubmit)="onSubmit()" #loginForm="ngForm" [hidden]="newAccount">
		<button type="button" class="btn btn-default" (click)="switchNew()">New?</button>
		<h1>Login - {{loggedIn()}}</h1>
		<div class="form-group">
			<label for="name">Courriel</label>
			<input type="email" class="form-control" required
				[(ngModel)]="email" ngControl="email" #name="ngForm">
		</div>
		<div class="form-group">
			<label for="name">Mot de passe</label>
			<input type="password" class="form-control" required
				[(ngModel)]="password" ngControl="password" #name="ngForm">
		</div>

		<button type="submit" class="btn btn-default" [disabled]="!loginForm.form.valid">Submit</button>
	</form>
	<form (ngSubmit)="onSubmit()" #newloginForm="ngForm" [hidden]="!newAccount">
		<button type="button" class="btn btn-default" (click)="switchNew()">Old?</button>
		<h1>New Account</h1>
		<div class="form-group">
			<label for="name">Courriel</label>
			<input type="email" class="form-control" required
				[(ngModel)]="email" ngControl="email" #name="ngForm">
		</div>
		<div class="form-group">
			<label for="name">Mot de passe</label>
			<input type="password" class="form-control" required
				[(ngModel)]="password" ngControl="password" #name="ngForm">
		</div>

		<div class="form-group">
			<label for="name">Mot de passe2</label>
			<input type="password" class="form-control" required
				[(ngModel)]="password2" ngControl="password2" #name="ngForm">
		</div>



		<button type="submit" class="btn btn-default" [disabled]="!newloginForm.form.valid">Submit</button>
	</form>

</div>
<div [hidden]="!submitted">
	<h2>You submitted the following:</h2>
	<div class="row">
		<div class="col-xs-3">Username</div>
		<div class="col-xs-9  pull-left">{{ username }}</div>
	</div>
	<div class="row">
		<div class="col-xs-3">Courriel</div>
		<div class="col-xs-9  pull-left">{{ email }}</div>
	</div>
	<div class="row">
		<div class="col-xs-3">Password</div>
		<div class="col-xs-9 pull-left">{{ password }}</div>
	</div>
	<div class="row">
		<div class="col-xs-3">Id</div>
		<div class="col-xs-9 pull-left">{{ id }}</div>
	</div>
	<div class="row">
		<div class="col-xs-3">Token</div>
		<div class="col-xs-9 pull-left">{{ token }}</div>
	</div>
	<br>
	<button class="btn btn-default" (click)="submitted=false">Edit</button>
</div>

</div>
